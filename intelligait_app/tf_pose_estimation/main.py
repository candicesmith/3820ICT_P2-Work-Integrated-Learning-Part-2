import argparse
import sys
import tf_pose_estimation.DATA
import tf_pose_estimation.pose_estimation
import tf_pose_estimation.gait_analysis 


def main(file_name, video_title):
    #parser = argparse.ArgumentParser(description="tf-pose-estimation realtime webcam")
    #parser.add_argument("--video_file", default="", help="Input Video")
    #args = parser.parse_args()

    tf_pose_estimation.DATA.video_file = file_name

    tf_pose_estimation.DATA.resetDict()

    pointsDict = tf_pose_estimation.pose_estimation.run()
    # pointsDict = {
    #     'Head': [(0, 0), (286, 194), (286, 194), (286, 194), (290, 194), (288, 194), (286, 194), (288, 194), (288, 196), (288, 196), (288, 194), (288, 194), (288, 194), (288, 192), (288, 192), (288, 194), (286, 194), (290, 196), (290, 196), (290, 198), (288, 198), (290, 198), (288, 198), (288, 196), (290, 196), (288, 196), (290, 198), (292, 200), (292, 202), (292, 198), (294, 196), (292, 196), (294, 194), (298, 198), (300, 202), (298, 198), (296, 200), (298, 198), (300, 202), (298, 200), (294, 200), (290, 198), (290, 198), (292, 192), (292, 192), (292, 194), (290, 194), (292, 192), (294, 194), (296, 192), (294, 192), (296, 
    #             196), (292, 194), (298, 192), (298, 190), (302, 192), (302, 192), (306, 192), (302, 194), (308, 196), (306, 190), (306, 196), (304, 194), (306, 196), (306, 196), (302, 198), (300, 196), (298, 192), (296, 196), (296, 194), (296, 198), (294, 194), (294, 196), (298, 194), (298, 198), (298, 200), (298, 202), (298, 198), (300, 200), (298, 198), (300, 198), (300, 198), (304, 198), (306, 196), (308, 194), (310, 194), (310, 194), (310, 194), (310, 194), (308, 192), (308, 194), (304, 192), (300, 192), (300, 190), (298, 190), (298, 190), (296, 190), (292, 192), (292, 188), (284, 186), (280, 192), (274, 190), (268, 192), (262, 
    #             192), (260, 192), (254, 192), (250, 196), (248, 198), (246, 198), (244, 196), (244, 196)], 
    #     'Chest': [(0, 0), (286, 280), (288, 280), (288, 278), (290, 278), (288, 280), (284, 280), (288, 280), (288, 280), (288, 282), (288, 280), (288, 278), (288, 278), (288, 280), (288, 278), (286, 276), (284, 278), (288, 278), (286, 280), (286, 278), (286, 278), (288, 280), (288, 280), (284, 282), (284, 282), (284, 280), (284, 280), (286, 280), (286, 284), (288, 278), (288, 278), (288, 278), (290, 276), (292, 278), (296, 280), (290, 280), (290, 280), (294, 278), (298, 280), (294, 280), (290, 278), (290, 280), (290, 280), (290, 272), (290, 272), (290, 274), (288, 274), (288, 272), (290, 276), (290, 276), (290, 276), (290, 280), (286, 278), (290, 280), (290, 274), (294, 276), (294, 278), (300, 280), (298, 280), (302, 280), (300, 278), (300, 278), (300, 276), (302, 276), (302, 276), (300, 280), (298, 278), (294, 276), (292, 278), (294, 276), (294, 278), (294, 272), (292, 276), (296, 276), (296, 278), (296, 278), (294, 280), (294, 276), (294, 276), (294, 276), (296, 274), (298, 276), (300, 278), (304, 282), (306, 276), (304, 280), (304, 280), (306, 280), (304, 280), (304, 278), (304, 282), (302, 282), (298, 280), (300, 280), (296, 282), (296, 282), (296, 280), (296, 280), (296, 278), (290, 278), (286, 284), (280, 282), (276, 284), (270, 284), (268, 284), (264, 284), (260, 286), (258, 290), (256, 288), (254, 288), (254, 288)], 
    #     'L_Shoulder': [(0, 0), (352, 280), (352, 278), (352, 278), (356, 278), (354, 278), (350, 278), (354, 278), (358, 280), (356, 282), (356, 280), (354, 280), (354, 280), (354, 278), (354, 276), (354, 276), (352, 276), (354, 278), (354, 278), (356, 278), (356, 278), (356, 278), (354, 276), (356, 276), (356, 278), (356, 276), (356, 280), (358, 282), (354, 282), (358, 284), (358, 280), (356, 280), (354, 278), (360, 284), (362, 282), (364, 282), (362, 282), (364, 278), (370, 280), (368, 278), (364, 278), (362, 278), (362, 276), (362, 270), (362, 272), (364, 274), (362, 274), (362, 272), (364, 274), (362, 270), (362, 270), (362, 278), (358, 276), (362, 276), (360, 272), (366, 276), (366, 280), (372, 280), (372, 280), (380, 286), (376, 280), (376, 278), (373, 280), (378, 280), (378, 280), (378, 282), (376, 282), (372, 278), (366, 278), (372, 282), (370, 280), (372, 276), (372, 280), (373, 276), (372, 280), (372, 278), (373, 284), (370, 280), (372, 280), (372, 284), (372, 276), (372, 282), (378, 286), (380, 286), (382, 284), (384, 288), (384, 292), (386, 292), (386, 292), (384, 288), (386, 290), (382, 290), (380, 286), (378, 286), (372, 286), (372, 284), (372, 284), (372, 284), (370, 280), (366, 278), (360, 284), (356, 280), (350, 280), (346, 280), (344, 278), (340, 280), (336, 280), (336, 284), (334, 284), (330, 284), (328, 286)], 
    #     'R_Shoulder': [(0, 0), (220, 284), (220, 284), (222, 284), (224, 284), (224, 284), (222, 284), (224, 284), (224, 286), (224, 286), (224, 284), (224, 282), (224, 282), (222, 280), (222, 282), (222, 280), (220, 280), (224, 280), (222, 282), (220, 284), (220, 284), (220, 284), (220, 284), (218, 288), (218, 288), (216, 286), (216, 286), (218, 286), (216, 290), (218, 286), (220, 284), (218, 278), (220, 278), (224, 278), (226, 282), (220, 280), (222, 282), (220, 278), (226, 282), (222, 284), (220, 282), (218, 282), (218, 284), (216, 280), (218, 284), (220, 284), (218, 282), (216, 282), (218, 286), (218, 284), (216, 280), (216, 288), (214, 282), (216, 284), (216, 284), (220, 280), (220, 282), (226, 282), (222, 282), (226, 282), (224, 280), (224, 280), (222, 280), (226, 278), (226, 278), (224, 280), (222, 280), (216, 280), (218, 282), (216, 282), (218, 286), (218, 282), (218, 286), (218, 282), (218, 286), (218, 286), (220, 286), (218, 284), (218, 286), (218, 284), (218, 286), (220, 284), (226, 282), (226, 280), (226, 280), (226, 280), (228, 278), (228, 280), (228, 278), (226, 278), (230, 280), (226, 282), (222, 282), (224, 282), (220, 284), (222, 288), (220, 288), (218, 292), (218, 288), (214, 286), (210, 296), (202, 296), (198, 300), (192, 298), (190, 298), (186, 298), (182, 302), (182, 304), (180, 304), (178, 302), (178, 302)], 
    #     'L_Elbow': [(0, 0), (382, 418), (380, 412), (378, 410), (384, 416), (384, 418), (380, 416), (384, 422), (386, 426), (386, 426), (386, 424), (384, 420), (384, 420), (384, 416), (384, 416), (384, 422), (382, 420), (386, 420), (386, 424), (388, 426), (386, 420), (386, 426), (384, 416), (378, 372), (378, 372), (376, 368), (378, 370), (380, 376), (378, 376), (378, 370), (380, 370), (380, 370), (380, 374), (386, 380), (394, 388), (394, 376), (392, 384), (394, 
    #                 370), (400, 370), (402, 422), (392, 380), (394, 388), (394, 350), (394, 366), (392, 368), (390, 368), (386, 370), (394, 432), (390, 374), (396, 430), (386, 368), (386, 370), (380, 374), (384, 380), (384, 376), (386, 372), (386, 374), (406, 444), (392, 366), (404, 374), (410, 414), None, (406, 410), (410, 388), (408, 390), (410, 382), (406, 396), (404, 374), (396, 392), (398, 380), (398, 384), (396, 378), (392, 372), None, (402, 432), (400, 410), (400, 416), (398, 432), (398, 428), (388, 382), (390, 380), (390, 380), (394, 384), (402, 434), (402, 428), (406, 420), (408, 416), (414, 428), (410, 410), (412, 398), (412, 
    #                 398), (410, 406), (404, 414), (406, 418), (402, 418), (398, 394), (400, 416), (398, 422), (396, 410), (392, 406), (382, 366), (388, 414), (378, 360), (380, 410), (378, 406), (376, 404), (370, 412), (370, 418), (368, 424), (364, 416), (360, 422)], 
    #     'R_Elbow': [(0, 0), (188, 474), (190, 470), (190, 468), (192, 466), (192, 462), (192, 446), (194, 442), (192, 466), (192, 470), (190, 468), (192, 464), (194, 436), (194, 432), (194, 432), (190, 444), (190, 438), (194, 438), (198, 388), (194, 426), None, (196, 406), (194, 414), None, (192, 422), None, None, (188, 470), (188, 444), (184, 470), (184, 458), (180, 462), (182, 448), (180, 458), (182, 458), (176, 458), (176, 458), (188, 414), (198, 396), (196, 384), (172, 458), (194, 374), (190, 384), (196, 374), (178, 446), (178, 454), (176, 448), (176, 440), (182, 436), (182, 442), (192, 384), (192, 406), (184, 440), (186, 444), (182, 450), (184, 454), (182, 450), (182, 452), (180, 456), (180, 462), (178, 458), (178, 456), (172, 462), (176, 450), (176, 450), (172, 458), (170, 456), (166, 462), (166, 470), (194, 388), (194, 388), (174, 462), (178, 450), (178, 452), (178, 464), (182, 464), (196, 398), (194, 400), (192, 416), None, (186, 446), (182, 452), (184, 448), (180, 452), (178, 454), (174, 454), (174, 456), (172, 454), (174, 454), (174, 448), (176, 452), (174, 454), (174, 454), (178, 456), (178, 460), (182, 464), (198, 382), (180, 466), (184, 454), (180, 448), (174, 462), (182, 414), (176, 432), (170, 426), (170, 412), (155, 472), (155, 468), (155, 474), (155, 470), (155, 472), (155, 470)], 
    #     'L_Wrist': [(0, 0), (384, 482), (382, 474), (382, 472), (386, 476), (384, 474), (382, 472), (384, 474), (386, 480), (384, 478), (384, 476), (384, 474), (384, 476), (386, 476), (386, 474), (386, 476), (386, 476), (390, 476), (390, 474), (392, 476), (392, 474), (390, 474), (390, 474), None, None, None, (394, 478), 
    #                 None, None, None, None, None, None, (400, 488), None, None, None, None, None, (412, 486), None, (404, 478), None, None, None, None, None, (398, 482), None, (404, 482), None, None, None, None, None, None, None, (416, 493), None, None, None, None, (424, 489), None, None, (422, 489), (420, 488), None, (410, 488), None, None, None, None, None, (414, 496), (412, 491), (412, 491), (412, 489), (412, 488), (410, 491), None, (408, 491), None, (414, 504), (416, 502), (422, 504), (424, 504), (426, 502), (426, 500), (426, 496), (426, 496), (420, 493), (416, 493), (418, 493), (412, 496), (414, 496), (412, 496), (408, 493), (408, 
    #                 489), (404, 482), None, (400, 482), None, (392, 480), (390, 478), (384, 478), (378, 482), (373, 489), (372, 489), (366, 491), (364, 496)], 
    #     'R_Wrist': [(0, 0), (186, 493), (188, 493), (190, 489), (192, 489), (190, 489), (188, 489), (190, 488), (190, 493), (190, 493), (190, 491), (190, 491), (190, 489), (190, 484), (190, 482), (188, 482), (188, 486), (192, 484), None, (190, 486), None, (188, 488), (186, 486), None, (184, 488), None, None, (186, 489), (184, 488), (184, 489), (182, 489), (178, 486), (180, 482), (176, 484), (180, 489), (172, 489), (172, 486), (170, 484), (174, 486), (168, 488), (166, 486), None, None, None, (166, 488), (168, 488), (168, 488), (168, 486), (172, 486), (176, 484), None, (178, 488), (178, 486), (182, 488), (180, 486), (182, 486), (180, 486), (180, 489), (176, 489), (176, 493), (176, 489), (174, 491), (170, 491), (170, 489), (168, 489), (168, 491), (166, 491), (162, 486), (162, 488), None, None, (166, 493), (170, 493), (174, 491), (176, 491), (180, 491), None, None, (186, 488), None, (186, 488), (180, 484), (180, 484), (176, 489), (176, 488), (170, 489), (172, 488), (168, 491), (168, 488), (168, 486), (170, 489), (170, 491), (170, 489), (176, 496), (174, 498), (178, 504), None, (176, 500), (178, 493), (176, 493), (170, 502), (166, 500), None, None, None, (154, 506), (154, 508), (154, 510), (152, 512), (154, 512), (154, 512)], 
    #     'L_Hip': [(0, 0), (340, 478), (338, 474), (340, 474), (342, 478), (342, 478), (338, 
    #                 476), (340, 474), (340, 480), (338, 480), (338, 476), (338, 478), (338, 476), (336, 472), (336, 474), (334, 476), (336, 478), (338, 480), (336, 480), (340, 488), (338, 486), (340, 478), (342, 478), (344, 478), (344, 480), (346, 476), (346, 474), (346, 482), (344, 486), (344, 488), (342, 484), (344, 470), (340, 480), (338, 482), (338, 489), (336, 493), (336, 486), (336, 493), (340, 489), (338, 500), (334, 493), (342, 491), (340, 488), (346, 488), (348, 488), (348, 493), (342, 491), (344, 491), (344, 491), (342, 498), (342, 493), (348, 491), (340, 496), (340, 493), (336, 488), (340, 493), (340, 498), (346, 500), (342, 
    #                 500), (350, 506), (348, 496), (342, 493), (338, 488), (344, 486), (340, 482), (342, 488), (342, 486), (346, 491), (344, 489), (344, 488), (346, 488), (342, 496), (344, 496), (346, 496), (346, 493), (348, 502), (348, 502), (346, 493), (344, 491), (346, 500), (346, 496), (342, 498), (342, 489), (348, 498), (350, 496), (346, 491), (342, 491), (338, 500), (344, 502), (342, 496), (346, 498), (346, 502), (344, 496), (348, 502), (348, 502), (350, 502), (352, 496), (350, 493), (350, 489), (350, 488), (346, 500), (346, 496), (342, 498), (338, 493), (342, 488), (336, 489), (336, 493), (330, 506), (330, 500), (320, 506), (320, 
    #                 508)], 
    #     'R_Hip': [(0, 0), (244, 474), (248, 474), (248, 472), (250, 474), (250, 472), (248, 472), (252, 468), (250, 472), (250, 472), (254, 468), (252, 470), (254, 470), (252, 470), (252, 470), (248, 472), (246, 472), (252, 474), (248, 474), (248, 474), (250, 480), (252, 478), (252, 478), (256, 476), (254, 474), (254, 478), (258, 476), (254, 478), (256, 478), (252, 480), (250, 482), (246, 478), (246, 474), (248, 478), (246, 474), (238, 480), (240, 488), (240, 480), (242, 482), (242, 484), (242, 484), (242, 480), (244, 476), (242, 470), (244, 480), (254, 482), (246, 489), (248, 484), (254, 482), (248, 486), (248, 480), (244, 488), (246, 476), (254, 480), (244, 480), (242, 488), (238, 486), (246, 488), (238, 488), (242, 488), (236, 486), (236, 489), (230, 488), (234, 486), (230, 482), (236, 486), (238, 488), (228, 474), (230, 476), (242, 488), (246, 489), (250, 488), (248, 498), (248, 496), (248, 496), (250, 488), (254, 488), (250, 491), (252, 488), (252, 493), (250, 491), (248, 489), (246, 488), (234, 491), (236, 491), (230, 491), (234, 496), (228, 502), (230, 493), (228, 488), (232, 493), (234, 493), (236, 496), (236, 491), (238, 491), (240, 496), (238, 489), (242, 498), (242, 493), (250, 496), (248, 500), (240, 489), (244, 498), (236, 486), (238, 486), (240, 491), (236, 488), (238, 491), (228, 502), (228, 506), (226, 512)], 
    #     'L_Knee': [(0, 0), (330, 616), (332, 610), (332, 610), (336, 610), (336, 610), (332, 608), (334, 610), (334, 616), (334, 616), (334, 612), (334, 614), (334, 612), (334, 612), (336, 612), (336, 616), (336, 622), (340, 620), (340, 612), (340, 614), (342, 612), (340, 598), (340, 592), (342, 598), (340, 594), (340, 594), (344, 606), (342, 600), (342, 598), (340, 606), (340, 562), (342, 606), (340, 604), (340, 614), (342, 626), (338, 628), (336, 638), (336, 630), (340, 638), (338, 644), (336, 636), (338, 630), (340, 630), (346, 628), (348, 632), (346, 636), (342, 632), (338, 624), (338, 622), (338, 614), (338, 610), (336, 618), (332, 622), (334, 630), (332, 624), (336, 632), (338, 616), (342, 638), (338, 630), (344, 640), (342, 634), (338, 634), (336, 632), (336, 636), (332, 642), (332, 638), (330, 632), (330, 618), (334, 616), (342, 634), (346, 642), (346, 642), (344, 644), (352, 634), (350, 632), (350, 624), (348, 626), (346, 630), (340, 628), (340, 642), (340, 630), (342, 636), (346, 640), (346, 646), (346, 650), (346, 638), (342, 648), (344, 642), (342, 640), (340, 638), (338, 648), (338, 640), (334, 646), (342, 636), (344, 632), (350, 636), (352, 634), (360, 636), (364, 634), (360, 630), (360, 642), (360, 634), (358, 638), (352, 634), (350, 632), (342, 630), (336, 642), (332, 638), (330, 640), (324, 642), (320, 638)], 
    #     'R_Knee': [(0, 0), (256, 614), (256, 614), (256, 612), (260, 606), (260, 608), (256, 612), (260, 608), (258, 612), (260, 614), (260, 612), (260, 610), (260, 610), (260, 610), (260, 610), (258, 602), (258, 604), (260, 604), (258, 602), (260, 602), (258, 600), (260, 610), (260, 612), (260, 608), (264, 626), (260, 610), (262, 612), (262, 602), (262, 606), (260, 600), (258, 602), (250, 604), (248, 608), (244, 604), (244, 612), (240, 616), (242, 610), (244, 602), (252, 604), (252, 606), (252, 612), (254, 618), (258, 614), (258, 606), (260, 622), (262, 624), (262, 622), (258, 624), (260, 624), (262, 620), (260, 622), (260, 618), (258, 622), (260, 624), (258, 616), (256, 612), (252, 612), (248, 630), (242, 632), (244, 634), (244, 624), (246, 618), (248, 616), (256, 618), (260, 628), (264, 622), (268, 634), (272, 620), (270, 610), (272, 632), (274, 630), (272, 636), (270, 636), (272, 628), (270, 624), (266, 618), (266, 618), (270, 632), (272, 632), (268, 630), (268, 620), (262, 612), (258, 618), (246, 632), (240, 630), (238, 638), (238, 634), (240, 630), (242, 622), (246, 620), (252, 630), (252, 640), (252, 634), (260, 632), (262, 628), (266, 632), (268, 632), (270, 634), (272, 632), (274, 632), (270, 634), (266, 630), (264, 632), (258, 626), (256, 628), (256, 622), (254, 622), (254, 624), (252, 628), (250, 632), (248, 626)], 
    #     'L_Ankle': [(0, 0), (324, 766), (324, 760), (324, 760), (326, 760), (326, 762), (324, 764), (326, 762), (328, 762), (328, 760), (326, 
    #                 760), (328, 760), (328, 762), (330, 760), (328, 758), (330, 756), (330, 756), (336, 752), (336, 750), (340, 748), (346, 772), (340, 730), (340, 732), (342, 762), (340, 758), (340, 762), (342, 762), (344, 752), (344, 760), (336, 770), None, (328, 766), (324, 772), (320, 770), (320, 778), (314, 776), (311, 770), (311, 770), (314, 770), (311, 766), (310, 756), (311, 742), (314, 740), (322, 728), (326, 724), (338, 756), None, (334, 760), (336, 772), (324, 736), (322, 750), None, (320, 790), (326, 784), (322, 790), (320, 788), (320, 796), (318, 788), (311, 784), (311, 788), (306, 784), (306, 774), (300, 774), (298, 778), 
    #                 (300, 758), (300, 752), (302, 744), (282, 796), None, (308, 720), None, (316, 720), (318, 714), (290, 794), (292, 792), None, (340, 832), (334, 802), (336, 808), (330, 806), (328, 800), (322, 810), (324, 812), (318, 812), (316, 814), (311, 806), (310, 796), (308, 796), (308, 784), (304, 774), (306, 776), (306, 760), (302, 756), (310, 734), (310, 730), (328, 744), (328, 724), (336, 726), (340, 728), (342, 718), (350, 760), None, (330, 732), None, (330, 764), None, None, (328, 808), (324, 808), None, (318, 812)], 
    #     'R_Ankle': [(0, 0), (254, 772), (254, 762), (256, 760), (258, 760), (258, 760), (256, 760), (258, 760), (258, 764), (258, 764), (258, 758), (260, 762), (260, 760), (260, 762), (260, 762), (260, 760), (260, 760), (266, 760), (266, 760), (270, 760), (270, 758), (272, 758), (274, 756), (274, 758), (274, 754), (272, 752), (272, 752), (270, 740), (268, 742), (264, 732), (260, 734), (248, 726), (248, 726), (240, 738), (244, 716), (246, 722), (248, 730), None, (262, 756), (258, 782), None, (252, 772), (258, 774), (260, 798), (264, 796), (270, 794), (268, 790), (270, 788), (274, 786), (274, 776), (276, 770), (274, 770), (270, 764), (270, 752), (268, 744), (268, 724), (262, 726), (258, 726), (252, 718), (254, 718), None, (256, 740), (256, 746), None, (268, 804), (270, 800), (276, 794), (282, 792), (284, 806), (286, 812), None, (288, 804), (288, 798), (290, 794), (290, 792), (290, 784), (288, 776), (286, 760), (286, 748), (284, 744), (284, 734), (276, 726), (272, 718), (262, 730), (258, 714), (248, 712), None, (238, 784), None, None, None, (244, 834), (244, 830), None, None, None, None, None, None, (276, 800), (276, 812), (276, 798), (274, 804), (270, 792), (270, 790), (268, 780), (264, 774), (262, 774), (262, 776), (258, 776), (254, 776)], 
    #     'Distance': [0, 71, 72, 72, 72, 72, 72, 72, 72, 72, 72, 72, 72, 72, 72, 72, 72, 72, 72, 72, 72, 72, 72, 
    #                  72, 72, 72, 72, 73, 73, 73, 73, 74, 74, 75, 75, 75, 76, 76, 77, 77, 78, 79, 79, 80, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 100, 101, 102, 104, 106, 107, 109, 110, 112, 113, 115, 117, 119, 121, 123, 124, 126, 129, 131, 133, 135, 137, 139, 141, 144, 146, 148, 150, 152, 155, 157, 160, 162, 165, 168, 172, 174, 177, 179, 182, 184, 187, 190, 193, 196, 199, 202]}
    pdf_path = tf_pose_estimation.gait_analysis.gaitAnalysis(pointsDict, video_title)
    return pdf_path


if __name__ == '__main__':
    main(file_name, video_title)